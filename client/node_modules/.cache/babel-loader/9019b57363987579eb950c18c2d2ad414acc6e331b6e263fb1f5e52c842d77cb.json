{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function EventDetail(_ref){let{user}=_ref;const{id}=useParams();const[event,setEvent]=useState(null);useEffect(()=>{const fetchEvent=async()=>{const response=await fetch(\"/events/\".concat(id));const data=await response.json();setEvent(data);};fetchEvent();},[id]);const handleBookTicket=async()=>{try{const response=await fetch('/tickets',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({user_id:user.id,event_id:parseInt(id)})});if(response.ok){alert('Ticket booked successfully!');}}catch(error){console.error('Error booking ticket:',error);}};if(!event)return/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading event details...\"})]});return/*#__PURE__*/_jsxs(\"div\",{className:\"event-detail-page\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"event-hero\",children:event.image&&/*#__PURE__*/_jsxs(\"div\",{className:\"hero-image-container\",children:[/*#__PURE__*/_jsx(\"img\",{src:event.image,alt:event.title,className:\"hero-image\"}),/*#__PURE__*/_jsx(\"div\",{className:\"hero-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"hero-content\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"event-title\",children:event.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"event-meta\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"meta-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"meta-icon\",children:\"\\uD83D\\uDCC5\"}),new Date(event.date).toLocaleDateString('en-US',{weekday:'long',year:'numeric',month:'long',day:'numeric'})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"meta-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"meta-icon\",children:\"\\uD83D\\uDCCD\"}),event.location]}),/*#__PURE__*/_jsxs(\"span\",{className:\"meta-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"meta-icon\",children:\"\\uD83D\\uDD52\"}),new Date(event.date).toLocaleTimeString('en-US',{hour:'2-digit',minute:'2-digit'})]})]})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"event-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"content-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"main-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"description-card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"About This Event\"}),event.description?/*#__PURE__*/_jsx(\"p\",{className:\"event-description\",children:event.description}):/*#__PURE__*/_jsx(\"p\",{className:\"no-description\",children:\"No description available for this event.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"details-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Event Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"details-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:\"\\uD83D\\uDCC5 Date & Time\"}),/*#__PURE__*/_jsx(\"span\",{className:\"detail-value\",children:new Date(event.date).toLocaleString()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:\"\\uD83D\\uDCCD Location\"}),/*#__PURE__*/_jsx(\"span\",{className:\"detail-value\",children:event.location})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:\"\\uD83C\\uDFAB Event Type\"}),/*#__PURE__*/_jsx(\"span\",{className:\"detail-value\",children:\"General Admission\"})]})]})]})]}),user.role==='customer'&&/*#__PURE__*/_jsx(\"div\",{className:\"booking-sidebar\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"booking-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83C\\uDFAB Book Your Ticket\"}),/*#__PURE__*/_jsx(\"p\",{className:\"booking-subtitle\",children:\"Secure your spot at this amazing event\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"price-display\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"price-label\",children:\"Ticket Price\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"price-amount\",children:[\"$\",event.price]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleBookTicket({},{setSubmitting:()=>{}}),className:\"book-btn\",children:\"\\uD83C\\uDFAB Book Ticket Now\"}),/*#__PURE__*/_jsx(\"p\",{className:\"booking-note\",children:\"\\uD83D\\uDCA1 Price set by event organizer\"})]})})]})})]});}export default EventDetail;","map":{"version":3,"names":["React","useState","useEffect","useParams","jsx","_jsx","jsxs","_jsxs","EventDetail","_ref","user","id","event","setEvent","fetchEvent","response","fetch","concat","data","json","handleBookTicket","method","headers","body","JSON","stringify","user_id","event_id","parseInt","ok","alert","error","console","className","children","image","src","alt","title","Date","date","toLocaleDateString","weekday","year","month","day","location","toLocaleTimeString","hour","minute","description","toLocaleString","role","price","onClick","setSubmitting"],"sources":["/home/jeshurun/Documents/phase-4/finalphase4/client/src/pages/EventDetail.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\n\n\n\nfunction EventDetail({ user }) {\n  const { id } = useParams();\n  const [event, setEvent] = useState(null);\n\n  useEffect(() => {\n    const fetchEvent = async () => {\n      const response = await fetch(`/events/${id}`);\n      const data = await response.json();\n      setEvent(data);\n    };\n    fetchEvent();\n  }, [id]);\n\n  const handleBookTicket = async () => {\n    try {\n      const response = await fetch('/tickets', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          user_id: user.id,\n          event_id: parseInt(id)\n        })\n      });\n      \n      if (response.ok) {\n        alert('Ticket booked successfully!');\n      }\n    } catch (error) {\n      console.error('Error booking ticket:', error);\n    }\n  };\n\n  if (!event) return (\n    <div className=\"loading-container\">\n      <div className=\"loading-spinner\"></div>\n      <p>Loading event details...</p>\n    </div>\n  );\n\n  return (\n    <div className=\"event-detail-page\">\n      <div className=\"event-hero\">\n        {event.image && (\n          <div className=\"hero-image-container\">\n            <img \n              src={event.image} \n              alt={event.title}\n              className=\"hero-image\"\n            />\n            <div className=\"hero-overlay\">\n              <div className=\"hero-content\">\n                <h1 className=\"event-title\">{event.title}</h1>\n                <div className=\"event-meta\">\n                  <span className=\"meta-item\">\n                    <span className=\"meta-icon\">üìÖ</span>\n                    {new Date(event.date).toLocaleDateString('en-US', { \n                      weekday: 'long', \n                      year: 'numeric', \n                      month: 'long', \n                      day: 'numeric' \n                    })}\n                  </span>\n                  <span className=\"meta-item\">\n                    <span className=\"meta-icon\">üìç</span>\n                    {event.location}\n                  </span>\n                  <span className=\"meta-item\">\n                    <span className=\"meta-icon\">üïí</span>\n                    {new Date(event.date).toLocaleTimeString('en-US', { \n                      hour: '2-digit', \n                      minute: '2-digit' \n                    })}\n                  </span>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n\n      <div className=\"event-content\">\n        <div className=\"content-grid\">\n          <div className=\"main-content\">\n            <div className=\"description-card\">\n              <h2>About This Event</h2>\n              {event.description ? (\n                <p className=\"event-description\">{event.description}</p>\n              ) : (\n                <p className=\"no-description\">No description available for this event.</p>\n              )}\n            </div>\n            \n            <div className=\"details-card\">\n              <h3>Event Details</h3>\n              <div className=\"details-grid\">\n                <div className=\"detail-item\">\n                  <span className=\"detail-label\">üìÖ Date & Time</span>\n                  <span className=\"detail-value\">{new Date(event.date).toLocaleString()}</span>\n                </div>\n                <div className=\"detail-item\">\n                  <span className=\"detail-label\">üìç Location</span>\n                  <span className=\"detail-value\">{event.location}</span>\n                </div>\n                <div className=\"detail-item\">\n                  <span className=\"detail-label\">üé´ Event Type</span>\n                  <span className=\"detail-value\">General Admission</span>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {user.role === 'customer' && (\n            <div className=\"booking-sidebar\">\n              <div className=\"booking-card\">\n                <h3>üé´ Book Your Ticket</h3>\n                <p className=\"booking-subtitle\">Secure your spot at this amazing event</p>\n                <div className=\"price-display\">\n                  <span className=\"price-label\">Ticket Price</span>\n                  <span className=\"price-amount\">${event.price}</span>\n                </div>\n                <button \n                  onClick={() => handleBookTicket({}, { setSubmitting: () => {} })} \n                  className=\"book-btn\"\n                >\n                  üé´ Book Ticket Now\n                </button>\n                <p className=\"booking-note\">üí° Price set by event organizer</p>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default EventDetail;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,SAAS,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAI7C,QAAS,CAAAC,WAAWA,CAAAC,IAAA,CAAW,IAAV,CAAEC,IAAK,CAAC,CAAAD,IAAA,CAC3B,KAAM,CAAEE,EAAG,CAAC,CAAGR,SAAS,CAAC,CAAC,CAC1B,KAAM,CAACS,KAAK,CAAEC,QAAQ,CAAC,CAAGZ,QAAQ,CAAC,IAAI,CAAC,CAExCC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAY,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,YAAAC,MAAA,CAAYN,EAAE,CAAE,CAAC,CAC7C,KAAM,CAAAO,IAAI,CAAG,KAAM,CAAAH,QAAQ,CAACI,IAAI,CAAC,CAAC,CAClCN,QAAQ,CAACK,IAAI,CAAC,CAChB,CAAC,CACDJ,UAAU,CAAC,CAAC,CACd,CAAC,CAAE,CAACH,EAAE,CAAC,CAAC,CAER,KAAM,CAAAS,gBAAgB,CAAG,KAAAA,CAAA,GAAY,CACnC,GAAI,CACF,KAAM,CAAAL,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,UAAU,CAAE,CACvCK,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAAC,CAC/CC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACnBC,OAAO,CAAEhB,IAAI,CAACC,EAAE,CAChBgB,QAAQ,CAAEC,QAAQ,CAACjB,EAAE,CACvB,CAAC,CACH,CAAC,CAAC,CAEF,GAAII,QAAQ,CAACc,EAAE,CAAE,CACfC,KAAK,CAAC,6BAA6B,CAAC,CACtC,CACF,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CAC/C,CACF,CAAC,CAED,GAAI,CAACnB,KAAK,CAAE,mBACVL,KAAA,QAAK0B,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChC7B,IAAA,QAAK4B,SAAS,CAAC,iBAAiB,CAAM,CAAC,cACvC5B,IAAA,MAAA6B,QAAA,CAAG,0BAAwB,CAAG,CAAC,EAC5B,CAAC,CAGR,mBACE3B,KAAA,QAAK0B,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChC7B,IAAA,QAAK4B,SAAS,CAAC,YAAY,CAAAC,QAAA,CACxBtB,KAAK,CAACuB,KAAK,eACV5B,KAAA,QAAK0B,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACnC7B,IAAA,QACE+B,GAAG,CAAExB,KAAK,CAACuB,KAAM,CACjBE,GAAG,CAAEzB,KAAK,CAAC0B,KAAM,CACjBL,SAAS,CAAC,YAAY,CACvB,CAAC,cACF5B,IAAA,QAAK4B,SAAS,CAAC,cAAc,CAAAC,QAAA,cAC3B3B,KAAA,QAAK0B,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3B7B,IAAA,OAAI4B,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAEtB,KAAK,CAAC0B,KAAK,CAAK,CAAC,cAC9C/B,KAAA,QAAK0B,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB3B,KAAA,SAAM0B,SAAS,CAAC,WAAW,CAAAC,QAAA,eACzB7B,IAAA,SAAM4B,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAC,cAAE,CAAM,CAAC,CACpC,GAAI,CAAAK,IAAI,CAAC3B,KAAK,CAAC4B,IAAI,CAAC,CAACC,kBAAkB,CAAC,OAAO,CAAE,CAChDC,OAAO,CAAE,MAAM,CACfC,IAAI,CAAE,SAAS,CACfC,KAAK,CAAE,MAAM,CACbC,GAAG,CAAE,SACP,CAAC,CAAC,EACE,CAAC,cACPtC,KAAA,SAAM0B,SAAS,CAAC,WAAW,CAAAC,QAAA,eACzB7B,IAAA,SAAM4B,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAC,cAAE,CAAM,CAAC,CACpCtB,KAAK,CAACkC,QAAQ,EACX,CAAC,cACPvC,KAAA,SAAM0B,SAAS,CAAC,WAAW,CAAAC,QAAA,eACzB7B,IAAA,SAAM4B,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAC,cAAE,CAAM,CAAC,CACpC,GAAI,CAAAK,IAAI,CAAC3B,KAAK,CAAC4B,IAAI,CAAC,CAACO,kBAAkB,CAAC,OAAO,CAAE,CAChDC,IAAI,CAAE,SAAS,CACfC,MAAM,CAAE,SACV,CAAC,CAAC,EACE,CAAC,EACJ,CAAC,EACH,CAAC,CACH,CAAC,EACH,CACN,CACE,CAAC,cAEN5C,IAAA,QAAK4B,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC5B3B,KAAA,QAAK0B,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3B3B,KAAA,QAAK0B,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3B3B,KAAA,QAAK0B,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/B7B,IAAA,OAAA6B,QAAA,CAAI,kBAAgB,CAAI,CAAC,CACxBtB,KAAK,CAACsC,WAAW,cAChB7C,IAAA,MAAG4B,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAAEtB,KAAK,CAACsC,WAAW,CAAI,CAAC,cAExD7C,IAAA,MAAG4B,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAAC,0CAAwC,CAAG,CAC1E,EACE,CAAC,cAEN3B,KAAA,QAAK0B,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3B7B,IAAA,OAAA6B,QAAA,CAAI,eAAa,CAAI,CAAC,cACtB3B,KAAA,QAAK0B,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3B3B,KAAA,QAAK0B,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B7B,IAAA,SAAM4B,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAC,0BAAc,CAAM,CAAC,cACpD7B,IAAA,SAAM4B,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAE,GAAI,CAAAK,IAAI,CAAC3B,KAAK,CAAC4B,IAAI,CAAC,CAACW,cAAc,CAAC,CAAC,CAAO,CAAC,EAC1E,CAAC,cACN5C,KAAA,QAAK0B,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B7B,IAAA,SAAM4B,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAC,uBAAW,CAAM,CAAC,cACjD7B,IAAA,SAAM4B,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAEtB,KAAK,CAACkC,QAAQ,CAAO,CAAC,EACnD,CAAC,cACNvC,KAAA,QAAK0B,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B7B,IAAA,SAAM4B,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAC,yBAAa,CAAM,CAAC,cACnD7B,IAAA,SAAM4B,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAC,mBAAiB,CAAM,CAAC,EACpD,CAAC,EACH,CAAC,EACH,CAAC,EACH,CAAC,CAELxB,IAAI,CAAC0C,IAAI,GAAK,UAAU,eACvB/C,IAAA,QAAK4B,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAC9B3B,KAAA,QAAK0B,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3B7B,IAAA,OAAA6B,QAAA,CAAI,+BAAmB,CAAI,CAAC,cAC5B7B,IAAA,MAAG4B,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAAC,wCAAsC,CAAG,CAAC,cAC1E3B,KAAA,QAAK0B,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5B7B,IAAA,SAAM4B,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAC,cAAY,CAAM,CAAC,cACjD3B,KAAA,SAAM0B,SAAS,CAAC,cAAc,CAAAC,QAAA,EAAC,GAAC,CAACtB,KAAK,CAACyC,KAAK,EAAO,CAAC,EACjD,CAAC,cACNhD,IAAA,WACEiD,OAAO,CAAEA,CAAA,GAAMlC,gBAAgB,CAAC,CAAC,CAAC,CAAE,CAAEmC,aAAa,CAAEA,CAAA,GAAM,CAAC,CAAE,CAAC,CAAE,CACjEtB,SAAS,CAAC,UAAU,CAAAC,QAAA,CACrB,8BAED,CAAQ,CAAC,cACT7B,IAAA,MAAG4B,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAC,2CAA+B,CAAG,CAAC,EAC5D,CAAC,CACH,CACN,EACE,CAAC,CACH,CAAC,EACH,CAAC,CAEV,CAEA,cAAe,CAAA1B,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}